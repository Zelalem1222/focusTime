{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { fontSize, spacing } from \"../utils/size\";\nimport { colors } from \"../utils/colors\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar minutesToMillis = function minutesToMillis(min) {\n  return min * 1000 * 60;\n};\nvar formatTime = function formatTime(time) {\n  return time < 10 ? \"0\" + time : time;\n};\nexport var Countdown = function Countdown(_ref) {\n  var _ref$minutes = _ref.minutes,\n    minutes = _ref$minutes === void 0 ? 0.1 : _ref$minutes,\n    isPaused = _ref.isPaused,\n    onProgress = _ref.onProgress,\n    onEnd = _ref.onEnd;\n  var interval = React.useRef(null);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    millis = _useState2[0],\n    setMillis = _useState2[1];\n  var reset = function reset() {\n    return setMillis(minutesToMillis(minutes));\n  };\n  var countDown = function countDown() {\n    setMillis(function (time) {\n      if (time === 0) {\n        clearInterval(interval.current);\n        onEnd(reset);\n        return time;\n      }\n      var timeLeft = time - 1000;\n      return timeLeft;\n    });\n  };\n  useEffect(function () {\n    setMillis(minutesToMillis(minutes));\n  }, [minutes]);\n  useEffect(function () {\n    onProgress(millis / minutesToMillis(minutes));\n  }, [millis]);\n  useEffect(function () {\n    if (isPaused) {\n      if (interval.current) clearInterval(interval.current);\n      return;\n    }\n    interval.current = setInterval(countDown, 1000);\n    return function () {\n      return clearInterval(interval.current);\n    };\n  }, [isPaused]);\n  var minute = Math.floor(millis / 1000 / 60) % 60;\n  var seconds = Math.floor(millis / 1000) % 60;\n  return _jsxs(Text, {\n    style: styles.text,\n    children: [formatTime(minute), \":\", formatTime(seconds)]\n  });\n};\nvar styles = StyleSheet.create({\n  text: {\n    fontSize: fontSize.xxxl,\n    fontWeight: 'bold',\n    color: colors.white,\n    padding: spacing.lg,\n    backgroundColor: 'rgba(94, 132, 226, 0.3)'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","fontSize","spacing","colors","minutesToMillis","min","formatTime","time","Countdown","minutes","isPaused","onProgress","onEnd","interval","useRef","millis","setMillis","reset","countDown","clearInterval","current","timeLeft","setInterval","minute","Math","floor","seconds","styles","text","StyleSheet","create","xxxl","fontWeight","color","white","padding","lg","backgroundColor"],"sources":["C:/Users/Zola/Desktop/React-projects/project/src/components/CountDown.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Text, View, StyleSheet } from 'react-native';\r\n\r\nimport { fontSize, spacing } from '../utils/size';\r\nimport { colors } from '../utils/colors';\r\n\r\nconst minutesToMillis = (min) => min * 1000 * 60;\r\nconst formatTime = (time) => (time < 10 ? `0${time}` : time);\r\nexport const Countdown = ({ minutes = 0.1, isPaused, onProgress, onEnd }) => {\r\n  const interval = React.useRef(null);\r\n\r\n  const [millis, setMillis] = useState(null);\r\n\r\n  const reset = () => setMillis(minutesToMillis(minutes))\r\n\r\n  const countDown = () => {\r\n    setMillis((time) => {\r\n      if (time === 0) {\r\n        clearInterval(interval.current);\r\n        onEnd(reset);\r\n        return time;\r\n      }\r\n      const timeLeft = time - 1000;\r\n      return timeLeft;\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    setMillis(minutesToMillis(minutes));\r\n  }, [minutes]);\r\n\r\n  useEffect(() => {\r\n    onProgress(millis / minutesToMillis(minutes));\r\n  }, [millis]);\r\n\r\n  useEffect(() => {\r\n    if (isPaused) {\r\n      if (interval.current) clearInterval(interval.current);\r\n      return;\r\n    }\r\n\r\n    interval.current = setInterval(countDown, 1000);\r\n\r\n    return () => clearInterval(interval.current);\r\n  }, [isPaused]);\r\n\r\n  const minute = Math.floor(millis / 1000 / 60) % 60;\r\n  const seconds = Math.floor(millis / 1000) % 60;\r\n  return (\r\n    <Text style={styles.text}>\r\n      {formatTime(minute)}:{formatTime(seconds)}\r\n    </Text>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  text: {\r\n    fontSize: fontSize.xxxl,\r\n    fontWeight: 'bold',\r\n    color: colors.white,\r\n    padding: spacing.lg,\r\n    backgroundColor: 'rgba(94, 132, 226, 0.3)',\r\n  },\r\n});"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAAA;AAAA;AAGnD,SAASC,QAAQ,EAAEC,OAAO;AAC1B,SAASC,MAAM;AAA0B;AAEzC,IAAMC,eAAe,GAAG,SAAlBA,eAAe,CAAIC,GAAG;EAAA,OAAKA,GAAG,GAAG,IAAI,GAAG,EAAE;AAAA;AAChD,IAAMC,UAAU,GAAG,SAAbA,UAAU,CAAIC,IAAI;EAAA,OAAMA,IAAI,GAAG,EAAE,SAAOA,IAAI,GAAKA,IAAI;AAAA,CAAC;AAC5D,OAAO,IAAMC,SAAS,GAAG,SAAZA,SAAS,OAAuD;EAAA,wBAAjDC,OAAO;IAAPA,OAAO,6BAAG,GAAG;IAAEC,QAAQ,QAARA,QAAQ;IAAEC,UAAU,QAAVA,UAAU;IAAEC,KAAK,QAALA,KAAK;EACpE,IAAMC,QAAQ,GAAGf,KAAK,CAACgB,MAAM,CAAC,IAAI,CAAC;EAEnC,gBAA4Bf,QAAQ,CAAC,IAAI,CAAC;IAAA;IAAnCgB,MAAM;IAAEC,SAAS;EAExB,IAAMC,KAAK,GAAG,SAARA,KAAK;IAAA,OAASD,SAAS,CAACZ,eAAe,CAACK,OAAO,CAAC,CAAC;EAAA;EAEvD,IAAMS,SAAS,GAAG,SAAZA,SAAS,GAAS;IACtBF,SAAS,CAAC,UAACT,IAAI,EAAK;MAClB,IAAIA,IAAI,KAAK,CAAC,EAAE;QACdY,aAAa,CAACN,QAAQ,CAACO,OAAO,CAAC;QAC/BR,KAAK,CAACK,KAAK,CAAC;QACZ,OAAOV,IAAI;MACb;MACA,IAAMc,QAAQ,GAAGd,IAAI,GAAG,IAAI;MAC5B,OAAOc,QAAQ;IACjB,CAAC,CAAC;EACJ,CAAC;EAEDrB,SAAS,CAAC,YAAM;IACdgB,SAAS,CAACZ,eAAe,CAACK,OAAO,CAAC,CAAC;EACrC,CAAC,EAAE,CAACA,OAAO,CAAC,CAAC;EAEbT,SAAS,CAAC,YAAM;IACdW,UAAU,CAACI,MAAM,GAAGX,eAAe,CAACK,OAAO,CAAC,CAAC;EAC/C,CAAC,EAAE,CAACM,MAAM,CAAC,CAAC;EAEZf,SAAS,CAAC,YAAM;IACd,IAAIU,QAAQ,EAAE;MACZ,IAAIG,QAAQ,CAACO,OAAO,EAAED,aAAa,CAACN,QAAQ,CAACO,OAAO,CAAC;MACrD;IACF;IAEAP,QAAQ,CAACO,OAAO,GAAGE,WAAW,CAACJ,SAAS,EAAE,IAAI,CAAC;IAE/C,OAAO;MAAA,OAAMC,aAAa,CAACN,QAAQ,CAACO,OAAO,CAAC;IAAA;EAC9C,CAAC,EAAE,CAACV,QAAQ,CAAC,CAAC;EAEd,IAAMa,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACV,MAAM,GAAG,IAAI,GAAG,EAAE,CAAC,GAAG,EAAE;EAClD,IAAMW,OAAO,GAAGF,IAAI,CAACC,KAAK,CAACV,MAAM,GAAG,IAAI,CAAC,GAAG,EAAE;EAC9C,OACE,MAAC,IAAI;IAAC,KAAK,EAAEY,MAAM,CAACC,IAAK;IAAA,WACtBtB,UAAU,CAACiB,MAAM,CAAC,OAAGjB,UAAU,CAACoB,OAAO,CAAC;EAAA,EACpC;AAEX,CAAC;AAED,IAAMC,MAAM,GAAGE,UAAU,CAACC,MAAM,CAAC;EAC/BF,IAAI,EAAE;IACJ3B,QAAQ,EAAEA,QAAQ,CAAC8B,IAAI;IACvBC,UAAU,EAAE,MAAM;IAClBC,KAAK,EAAE9B,MAAM,CAAC+B,KAAK;IACnBC,OAAO,EAAEjC,OAAO,CAACkC,EAAE;IACnBC,eAAe,EAAE;EACnB;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}